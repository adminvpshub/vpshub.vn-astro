---
import { getLangFromUrl, useTranslations } from '../i18n/utils';
import PricingGrid from './PricingGrid';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<section id="pricing" class="py-24 relative overflow-hidden">
  <div class="absolute inset-0 bg-slate-900"></div>
  <div class="absolute inset-0 bg-[radial-gradient(circle_at_bottom_left,_var(--tw-gradient-stops))] from-blue-900/20 via-slate-900/0 to-slate-900/0"></div>
  
  <div class="container relative mx-auto px-4 md:px-6">
    <div class="text-center mb-16">
      <h2 class="text-3xl font-bold tracking-tight text-white sm:text-4xl">{t('pricing.title')}</h2>
      <p class="mt-4 text-slate-400">Choose the perfect plan for your needs.</p>
    </div>

    <div class="grid gap-8 md:grid-cols-3 lg:gap-12 max-w-6xl mx-auto">
      <PricingGrid
        client:load
        mostPopularText={t('pricing.popular')}
        choosePlanText={t('pricing.choose')}
        currency="VND"
        period="/month"
        translations={{
          loading: t('pricing.loading'),
          error: t('pricing.error'),
          traffic: t('pricing.traffic'),
          unlimitedTraffic: t('pricing.unlimited_traffic'),
          bandwidth: t('pricing.bandwidth'),
          ipAddress: t('pricing.ip'),
          ipAddresses: t('pricing.ips'),
        }}
      />
    </div>
  </div>
</section>
