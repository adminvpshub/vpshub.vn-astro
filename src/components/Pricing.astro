---
import { getLangFromUrl, useTranslations } from '../i18n/utils';
import { Check } from 'lucide-react';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const plans = [
  {
    name: "Starter",
    price: "150,000",
    currency: "VND",
    period: "/month",
    features: [
      "1 Core CPU",
      "2 GB RAM",
      "30 GB SSD Storage",
      "Unlimited Bandwidth",
      "1 IP Address",
      "24/7 Support"
    ],
    popular: false
  },
  {
    name: "Professional",
    price: "350,000",
    currency: "VND",
    period: "/month",
    features: [
      "2 Core CPU",
      "4 GB RAM",
      "60 GB NVMe Storage",
      "Unlimited Bandwidth",
      "1 IP Address",
      "Priority Support"
    ],
    popular: true
  },
  {
    name: "Enterprise",
    price: "750,000",
    currency: "VND",
    period: "/month",
    features: [
      "4 Core CPU",
      "8 GB RAM",
      "120 GB NVMe Storage",
      "Unlimited Bandwidth",
      "2 IP Addresses",
      "Dedicated Manager"
    ],
    popular: false
  }
];
---

<section id="pricing" class="py-24 relative overflow-hidden">
  <div class="absolute inset-0 bg-slate-900"></div>
  <div class="absolute inset-0 bg-[radial-gradient(circle_at_bottom_left,_var(--tw-gradient-stops))] from-blue-900/20 via-slate-900/0 to-slate-900/0"></div>
  
  <div class="container relative mx-auto px-4 md:px-6">
    <div class="text-center mb-16">
      <h2 class="text-3xl font-bold tracking-tight text-white sm:text-4xl">{t('pricing.title')}</h2>
      <p class="mt-4 text-slate-400">Choose the perfect plan for your needs.</p>
    </div>

    <div class="grid gap-8 md:grid-cols-3 lg:gap-12 max-w-6xl mx-auto">
      {plans.map((plan) => (
        <div class={`relative rounded-2xl border ${plan.popular ? 'border-blue-500 bg-slate-800/80' : 'border-white/10 bg-slate-900/50'} p-8 shadow-xl flex flex-col`}>
          {plan.popular && (
            <div class="absolute -top-4 left-1/2 -translate-x-1/2 rounded-full bg-blue-600 px-4 py-1 text-sm font-medium text-white shadow-lg">
              Most Popular
            </div>
          )}
          <div class="mb-6">
            <h3 class="text-xl font-semibold text-white">{plan.name}</h3>
            <div class="mt-4 flex items-baseline">
              <span class="text-4xl font-bold text-white">{plan.price}</span>
              <span class="ml-1 text-sm font-medium text-slate-400">{plan.currency}</span>
              <span class="text-slate-500">{plan.period}</span>
            </div>
          </div>
          <ul class="mb-8 space-y-4 flex-1">
            {plan.features.map((feature) => (
              <li class="flex items-center text-sm text-slate-300">
                <Check className="mr-3 h-4 w-4 text-blue-500" />
                {feature}
              </li>
            ))}
          </ul>
          <a href="https://identity.vpshub.vn" class={`inline-flex w-full items-center justify-center rounded-lg px-4 py-3 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-blue-700 ${plan.popular ? 'bg-blue-600 text-white hover:bg-blue-700' : 'bg-slate-800 text-white hover:bg-slate-700 border border-white/10'}`}>
            Choose Plan
          </a>
        </div>
      ))}
    </div>
  </div>
</section>
